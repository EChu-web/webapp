// require('./about.less' )

import React, { Component } from 'react'

import Actions from '../flux/actions/actions'
import Data from '../flux/stores/data'

export default class About extends Component
{
	constructor(properties) 
	{
		super(properties)

		this.state = 
		{
			ready: false
		}
	}

	componentDidMount()
	{
		Actions.get_settings()

		this.off = Data.on('settings_changed', () =>
		{
			this.setState
			({
				putin: Data.settings.putin,
				version: Data.settings.version,
				ready: true
			})
		})
	}

	componentWillUnmount()
	{
		this.off()
	}

	render()
	{
		let content

		if (this.state.ready)
		{
			content = 
			(
				<div>
					<div>Putin: {this.state.putin}</div>
					<div>Version: {this.state.version}</div>
				</div>
			)
		}
		else 
		{
			content = 
			(
				<div>
					Loading...
				</div>
			)
		}

		const markup = 
		(
			<div>
				{content}
			</div>
		)

		// <div>Copyright Â© 2015</div>

		return markup
	}
}